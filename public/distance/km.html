<!DOCTYPE html>
<html>
<head>
   <!-- The following script points to rtirl-obs API (https://github.com/muxfd/rtirl-obs) -->
   <script src="https://unpkg.com/@rtirl/api@latest/lib/index.min.js"></script>
   <script src="distance.js"></script>
   <title>Distance in km</title>
</head>
<body>
   <div id="text">Initilizing</div>
   <script>
      var unit = ' km';
      var unitMultiplier = 1.0;
      const css = new URLSearchParams(window.location.search).get("css");
      const font = new URLSearchParams(window.location.search).get("font");
      
      if (font) {
        const decodedFont = atob(font);
        const importFontFamily = document.createElement("link");
        importFontFamily.href = decodedFont;
        importFontFamily.type = "text/css";
        importFontFamily.rel = "stylesheet";

        // load google font
        document.getElementsByTagName("head")[0].appendChild(importFontFamily);
      } 

      // migration nessessary for old users
      if (css) {
        document.body.setAttribute("style", css);
        const decodedCSS = atob(css);
        document.getElementsByTagName("body")[0].style = decodedCSS;
      }
      
   </script>
</body>
</html>
